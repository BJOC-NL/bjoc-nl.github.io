<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">
<head>
  <meta http-equiv="content-type"
        content="text/html; charset=us-ascii">
  <script type="text/javascript"
        src="../../afb/">
</script>
  <script type="text/javascript"
        src="../../afb/">
</script>
  <script type="text/javascript">
window.onload = function() {Gifffer();}
  </script>
  <link rel="stylesheet"
        type="text/css"
        href="/bjc-r/css/bjc-gifffer.css">

  <title>Hoofdstuk 3 Les 4: Bouw tools voor data visualisatie,
  pagina 1</title>
</head>

<body>
  <div class="todo">
    ST EK List:<br>
    1.2.3B Computation facilitates the creation and modification
    of computational artifacts with enhanced detail and
    precision.<br>
    3.1.1B Digital information can be filtered and cleaned by
    using computers to process information.<br>
    3.1.1D Insight and knowledge can be obtained from translating
    and transforming digitally represented information.<br>
    3.1.1E Patterns can emerge when data is transformed using
    computational tools.<br>
    3.1.2A Collaboration is an important part of solving data
    driven problems.<br>
    3.1.2B Collaboration facilitates solving computational
    problems by applying multiple perspectives, experiences, and
    skill sets.<br>
    3.1.2C Communication between participants working on data
    driven problems gives rise to enhanced insights and
    knowledge.<br>
    3.1.2D Collaboration in developing hypotheses and questions,
    and in testing hypotheses and answering questions, about data
    helps participants gain insight and knowledge.<br>
    3.1.2E Collaborating face-to-face and using online
    collaborative tools can facilitate processing information to
    gain insight and knowledge.<br>
    3.1.2F Investigating large data sets collaboratively can lead
    to insight and knowledge not obtained when working alone.<br>
    3.1.3A Visualization tools and software can communicate
    information about data.<br>
    3.1.3B Tables, diagrams, and textual displays can be used in
    communicating insight and knowledge gained from data.<br>
    3.1.3D Transforming information can be effective in
    communicating knowledge gained from data.<br>
    5.1.2B Developing correct program components and then
    combining them helps in creating correct programs.<br>
    5.1.2C Incrementally adding tested program segments to
    correct, working programs helps create large correct
    programs.
  </div>

  <div class="todo">
    <strong>Doel</strong>: Leerlingen leren de basisbeginselen
    van datavisualisatie, en maken een visualisatie tool voor
    <em>algemeen gebruik</em> die staafdiagrammen kan weergeven,
    bijvoorbeeld voor andere vakken.<br>
                 <strong>Waarom</strong> : Dit is een les over
    datavisualisatie. Staafdiagrammen zijn een standaard
    hulpmiddel voor datavisualisatie.<br>
                 <strong>Waarom nu</strong>: Leerlingen zijn al
    bekend met de concepten abstractie en Snap<em>!</em> blokken
    van Hoofdstuk 1, Les 2. Nu kunnen zij deze kennis toepassen
    in de context van datavisualisatie, en leren om een moeilijke
    taak op te splitsen in kleinere, hanteerbare onderdelen, en
    om een veelzijdig computertool te cre&euml;ren. Deze les
    introduceeerd schalen, dus als ze op de volgende pagina's
    schalingstools krijgen (grafische apps), komt het niet
    helemaal uit de lucht vallen.<br>
    <br>
    <a href=
    "https://drive.google.com/open?id=0B4eoxti-ygkqTF91S1VGb1hqdHM"
         target="_blank">Some feedback from Al</a> that may not
         have been integrated but should be before further
         revisions to this page. --MF, 6/29/17
  </div>           

  <h2><strong>Staafdiagrammen maken</strong></h2>

  <div class="learn">
    <p>Tijdens deze les maak je een datavisualisatie tool voor
    staafdiagrammen voor verschillende datasets. Je leert de
    concepten abstractie en de hogere order functie
    <code>map</code> toe te passen. <br>
    <img class="indent"
         src="../../afb/"
         height="300"
         alt="Geen Afbeelding"
         ><img src=
         "/bjc-r/img/3-lists/BarGraph_img/BarGraphAnimation.gif"
         height="300"
         alt="Geen Afbeelding"
         ></p>
  </div>

  <div class="forYouToDo"
       id="first">
    <ol>
      <li>
        <img class="imageRight"
            src="../../bjc-r/img/icons/bespreek-met-je-buur.png"
            alt="Geen Afbeelding"
            > Technlogie is overal ter werld geleidt tot millieuvervuiling. Bekijk samen de gegevens op deze  <a href=
            "http://www.ucsusa.org/global_warming/science_and_impacts/science/each-countrys-share-of-co2.html#.WVqJI9PytE5"
            target="_blank"
            >link</a>.

        <ol>
          <li>Welke landen hebben de hoogste uitstoot van koolstofdioxide
          (CO<sub>2</sub>)?</li>

          <li>Welke landen hebben de hoogste uitstoot CO<sub>2</sub>
          per hoofd van de bevolking (per persoon) ?</li>

          <li>Welke van deze meetingen is volgens jou een betere indicator voor de bijdrage van een land aan de wereledwijde millieuvervuiling?</li>
        </ol>

        <div class="takeNote">
          Je kan kennis en inzicht vergaren door met anderen te praten, en door vragen en hyptoheses te stellen.
        </div>
      </li>

      <li>
        <a class="run"
            href=
            "/bjc-r/prog/3-lists/U3L4-BarGraph.xml"><img class=
            "inline"
             src="../../afb/"
             alt=
             "Klik hier om dit bestand te bewaren. Sla het dan op in je Snap! account."
             title=
             "Klik hier om dit bestand te bewaren. Sla het dan op in je Snap! account."></a>

        <div class="endnote">
          Dit bestand bevat

          <ul>
            <li>Een <em>maker</em> van een nieuwe ADT (Abstracte
            Datatype) <code>data-record</code> met twee velden <code>label</code> en <code>value</code>.<br>
            <img class="indent"
                 src=
                 "/bjc-r/img/3-lists/BarGraph_img/datalabelvaluewithResult.png"
                 height="135"
                 alt=
                 "data-record, label:(China) value:(8715) reporting {China, 8715}"
                 title=
                 "data-record, label:(China) value:(8715) reporting {China, 8715}">
            </li>

            <li>Twee <em>keizers</em> voor de nieuwe ADT, 
            om specifieke gegevens uit <code>data-record</code>
            te halen.<br>
            <img class="indent"
                 src=
                 "/bjc-r/img/3-lists/BarGraph_img/getlabelwithResult.png"
                 height="50"
                 alt=
                 "label from data-record:(data-record, label:(China) value:(8715)) reporting China"
                 title=
                 "label from data-record:(data-record, label:(China) value:(8715)) reporting China">
            <br>
            <img class="indent"
                 src=
                 "/bjc-r/img/3-lists/BarGraph_img/getvaluewithResult.png"
                 height="50"
                 alt=
                 "value from data-record:(data-record, label:(China) value:(8715)) reporting 8715"
                 title=
                 "value from data-record:(data-record, label:(China) value:(8715)) reporting 8715">
            <br></li>
      
            <li>A <code>max of list</code> reporter that finds
            the largest element of a list.<br>
            <img class="indent"
                 src=
                 "/bjc-r/img/3-lists/BarGraph_img/maxoflistwithResult.png"
                 height="50"
                 alt="Geen Afbeelding"
                 title=
                 "max of list (list{1,7,-3,4}) reporting 7"></li>
          </ul>
        </div>Explore the blocks already written for you and
        understand how they work.<br>
      </li>

      <li>Develop code for the <code>draw axes</code> block. It
      should draw the <em>horizontal</em> and <em>vertical</em>
      axes based on the given stage coordinates of the origin
      <var>x0</var>, <var>y0</var> and the given length, height
      information.<br>
        <img class="indent"
            src="../../afb/"
            height="60"
            alt=
            "draw axes, x0:(-200) y0:(-90) horizontal length:(400) vertical height:(240)"
            title=
            "draw axes, x0:(-200) y0:(-90) horizontal length:(400) vertical height:(240)">
        <br>

        <div class="endnote">This diagram may help you understand
        how the given information will determine the
        <em>horizontal</em> and <em>vertical</em> axes. As you
        will be graphing only positive values, the axes should
        meet in the lower left corner as shown in the diagram.
        There should not be any labels or tick marks at this
        point. The markings in the diagram are shown for
        clarity.<br>
        <img class="indent"
             src=
             "/bjc-r/img/3-lists/BarGraph_img/axeshorizvert.png"
             height="200"
             alt="Geen Afbeelding"
             ></div>In the <code>draw axes</code>
             block also make sure that the coordinates of the
             origin is stored in global variables
             <var>x-origin</var>, <var>y-origin</var>. In the
             upcoming steps of this project, other blocks will
             need this information to properly allign the bars
             and labels .<br>
        <img class="indent"
            src="../../afb/"
            height="100"
            alt="Geen Afbeelding"
            > <img src=
            "/bjc-r/img/3-lists/BarGraph_img/setXYOrigin.png"
            height="75"
            alt="Geen Afbeelding"
            >

        <div class="sidenote">You can import the basic
        <code>label</code> block in your new projects via the
        "Import tools" option of the File menu:<br>
        <img src=
        "/bjc-r/img/3-lists/BarGraph_img/importTools.png"
             height="150"
             alt="Geen Afbeelding"
             ></div>
      </li>

      <li>Explore the basic <code>label</code> block included in
      the starter project. Try changing the location and
      direction of the drawing sprite.<br>
        <img class="indent"
            src="../../afb/"
            height="45"
            alt="Geen Afbeelding"
            >

        <div class="endnote">
          <p>Note that the <code>label</code> block does not need
          to have <code>pen down</code> in order to do its
          writing. Having <code>pen down</code> with the
          <code>label</code> block may cause some undesired
          effects.<br>
          <br>
          You're not required to look inside the
          <code>label</code> block, but if you do, you'll see
          something unfamiliar.<br>
          <a href="#hint-1"
             data-toggle="collapse"
             class="collapsed"
             >Show more
             information.</a></p>

          <div id="hint-1"
               class="collapse">
            <img class="indent"
                 src=
                 "/bjc-r/img/3-lists/BarGraph_img/labelwithJS.png"
                 height="150"
                 alt="Geen Afbeelding"
                 ><br>
            Snap<em>!</em>, like pretty much everything that runs
            in a browser, is written in a programming language
            called <em>JavaScript</em>. The <code>label</code>
            block is implemented using a Snap! <code>JavaScript
            function</code> block that allows advanced users to
            extend Snap<em>!</em> by adding new blocks written in
            JavaScript.
          </div>You don't need to know how the <code>label</code>
          block works to be able to use it. By hiding its inner
          complexity from its users, the <code>label</code> block
          is a perfect example of <em>abstraction</em>.<br>
        </div>
      </li>

      <li>Use the basic <code>label</code> block to develop code
      for the more elaborate <code>label</code> block that will
      place a label with the inputted specifications (text, size
      and direction.)<br>
      <br>
      <img class="indent"
           src="../../afb/"
           height="45"
           alt="Geen Afbeelding"
           title=
           "label, text:(China) size:(18) direction:(0)"><img src=
           "/bjc-r/img/3-lists/BarGraph_img/China.png"
           height="100"
           alt="Geen Afbeelding"
           ><br>
      <br>
      Note that the orientation directions should follow
      Snap<em>!</em> &acirc;&euro;&trade;s convention for
      directions (0<sup>o</sup> up, 90<sup>o</sup> right,
      180<sup>o</sup> down, 270<sup>o</sup> left). Test your new
      <code>label</code> with the four directions.<br>
      <img class="indent"
           src="../../afb/"
           height="250"
           alt="Geen Afbeelding"
           ></li>

      <li>Develop code for the <code>draw bar</code> block. It
      should draw a vertical bar (a line with the given width and
      height) straight up from the current location with a label
      placed underneath the bar.<br>
        <img class="indent"
            src="../../afb/"
            height="45"
            alt=
            "draw bar, label:(Germany) label size:(12) width:(25) height:(120)"
            title=
            "draw bar, label:(Germany) label size:(12) width:(25) height:(120)">
         <img class="indent"
            src="../../afb/"
            height="200"
            alt="Geen Afbeelding"
            >

        <div class="endnote">You may wish to review your earlier
        <a href=
        "/bjc-r/cur/programming/2-complexity/4-abstraction/3-brick-wall.html"
           >Brick Wall</a> project to remind
           yourself how to draw bars with a pen of a given width.
           You don't need to import <code>set flat line ends
           to</code> block from that project but make sure that
           you have "Flat line ends" selected from the Settings
           menu to draw rectangular bars. You can see below the
           difference in two types of lines drawn.<br>
        <img class="indent"
             src=
             "/bjc-r/img/3-lists/BarGraph_img/FlatLineEnds.png"
             height="200"
             alt="Geen Afbeelding"
             > <img class="indent"
             src=
             "/bjc-r/img/3-lists/BarGraph_img/FlatLineBar.png"
             height="100"
             alt="Geen Afbeelding"
             > <img src=
             "/bjc-r/img/3-lists/BarGraph_img/RoundedBar.png"
             height="120"
             alt="Geen Afbeelding"
             ></div>
      </li>

      <li>Develop code for the <code>draw bars</code> block,
      which should draw a series of labelled bars of the desired
      width and an appropriate height that start on the left and
      continue to the right. In order to properly level the bars
      and the labels you may need to refer to the global
      variables <var>x-origin</var>, <var>y-origin</var>.<br>
        <img class="indent"
            src="../../afb/"
            height="60"
            alt=
            "draw bars, bar width:(20) max bar height:(240) data:(CO2 Emissions Data)"
            title=
            "draw bars, bar width:(20) max bar height:(240) data:(CO2 Emissions Data)">
         <img class="indent"
            src="../../afb/"
            height="250"
            alt="Geen Afbeelding"
            >

        <div class="narrower">Note that given a maximum bar
        height, the heights of all the bars can be computed as a
        fraction of this maximum bar height. Using the following
        proportion, you can derive each country's bar height:
        <span class="katex-block">\frac{\text{country bar
        height}}{\text{max bar height}} = \frac{\text{country
        data value}}{\text{max data value}}</span> For example,
        if maximum bar height=240 and you want to find how tall
        the bar for USA should be, you first find the largest
        value in the data set which is 8715 (from China) and do
        the following computation<br>
        <span class="katex-block">{\text{USA bar height}} =
        {\text{max bar height .}}\frac{\text{USA data
        value}}{\text{max data value}} = {\text{240
        .}}\frac{\text{5491}}{\text{8715}}\approx
        {\text{151}}</span><br>
        While finding the maximum of the data values, first you
        need to get a list of values and then apply the <code>max
        of list</code> block. The following block which uses the
        selector <code>value from data-record</code> will extract
        a list of <em>values</em> from the given <var>data
        list</var>.<br>
        <img class="indent"
             src=
             "/bjc-r/img/3-lists/BarGraph_img/mapgetvalue.png"
             height="45"
             alt="Geen Afbeelding"
             title=
             "map(value from data-record()) over (data list)"></div>
      </li>

      <li>Develop code for the <code>label vertical axis</code>
      block so that it labels the vertical axis based on the
      specified inputs. For simplicity, you can assume that the
      labels will always split the vertical axis into 10 equal
      parts (using 11 tick marks) like this:<br>
      <img class="indent"
           src="../../afb/"
           height="45"
           alt=
           "label vertical axis, vertical height:(240) data:(CO2 Emissions Data)"
           title=
           "label vertical axis, vertical height:(240) data:(CO2 Emissions Data)">
       <img src="../../afb/"
           height="250"
           alt="Geen Afbeelding"
           ></li>

      <li>Now you are ready to put everything together and
      develop code for the <code>Bar Graph</code> drawing block
      for a given <var>data list</var> input. Fill in the
      blanks.<br>

        <div class="sidenote">
          You are allowed to use any other blocks as you need in
          the definition of <code>Bar Graph</code>.
        </div><img class="indent"
            src=
            "/bjc-r/img/3-lists/BarGraph_img/BarGraphdata.png"
            height="180"
            alt=
            "Bar Graph, data:(data list){draw axes, x0:() y0:() horizontal length:() vertical length:(); change x by (); draw bars, bar width:() max bar height:() data:(data list); label vertical axis, vertical height:() data:(data list)}"
            title=
            "Bar Graph, data:(data list){draw axes, x0:() y0:() horizontal length:() vertical length:(); change x by (); draw bars, bar width:() max bar height:() data:(data list); label vertical axis, vertical height:() data:(data list)}">
      </li>

      <li>When everything is done, the following code, with a few
      extra labels for the graph title, should produce a bar
      graph as shown below:<br>
        <img class="indent"
            src=
            "/bjc-r/img/3-lists/BarGraph_img/codeCO2EmissionsData.png"
            height="45"
            alt="Geen Afbeelding"
            ><br>

        <div class="sidenote">
          Please note that the lowest value on the vertical axis
          must be <em><strong>zero</strong></em> for this bar
          graph to be a legitimate data visualization. If, for
          example, you had started the vertical axis at 5000, it
          would look like China is a vastly worse polluter than
          the USA.<br>
          <br>
          In general, be very skeptical of graphs presented to
          you that do not start at
          <em><strong>zero</strong></em>.
        </div><img class="indent"
            src="../../afb/"
            height="300"
            alt="Geen Afbeelding"
            >
      </li>

      <li>Your coding should be general enough to accommodate a
      new set of data (also included in your starter file):<br>
        <img class="indent"
            src=
            "/bjc-r/img/3-lists/BarGraph_img/codeCO2EmissionsPerCapita.png"
            height="45"
            alt="Geen Afbeelding"
            title=
            "Bar Graph, data:(CO2 Emissions per capita Data)"><br>
        <img class="indent"
            src=
            "/bjc-r/img/3-lists/BarGraph_img/CO2EmissionsPerCapita.png"
            height="300"
            alt="Geen Afbeelding"
            >

        <div class="endnote">
          Note: "per capita" means "per person". So, for example
          for China, the total CO<sub>2</sub> emissions was
          divided by the population:<br>
          <span class="katex-block">\frac{\text{8715 Million
          metric tons}}{\text{1.337 Billion persons}} =
          {\text{6.52 metric tons per person}}</span> These
          values are already given to you in the starter file as
          <code>CO<sub>2</sub> Emissions per capita Data</code>.
        </div><img class="imageRight"
            src="../../bjc-r/img/icons/talk-with-your-partner.png"
            alt="Geen Afbeelding"
            >
      </li>

      <li>In collaboration with your partner, compare the two bar
      graphs. What insights does each graph provide about
      CO<sub>2</sub> emissions? Is one better than the
      other?<img class="imageRight"
           src="../../bjc-r/img/icons/save-now.png"
           alt="Geen Afbeelding"
           ></li>
    </ol>
  </div>

  <div class="ifTime">
    <ol start="13">
      <li>
        <strong>Data Processing:</strong> Look at the Variables
        palette to locate the <code>Country-GDP-Population
        Data</code> block. When you examine its contents you will
        notice that it is a list of lists containing data on the
        GDP (<a href=
        "https://en.wikipedia.org/wiki/Gross_domestic_product"
            target="_blank"
            >Gross
            Domestic Product</a>) and population size for each of
            the countries you studied in this project.
            <em>Process</em> the data so you can create a bar
            graph for the GDP <strong>per capita</strong> of each
            country.<br>
        <br>
        <img class="indent"
            src=
            "/bjc-r/img/3-lists/BarGraph_img/Country-GDP-Population.png"
            height="200"
            alt="Geen Afbeelding"
            ><br>
        <br>
        Click here for a <a href="#hint-2"
            data-toggle="collapse"
            class="collapsed"
            >hint</a> on how to <em>process</em> data
            quickly using the higher order function
            <code>map</code>.

        <div id="hint-2"
             class="collapse">
          These blocks may help:<br>
          <img class="indent"
               src=
               "/bjc-r/img/3-lists/BarGraph_img/dataProcessHint.png"
               height="100"
               alt=
               "data-record, label:() value:(); ()/(); item (1) of (); item (2) of (); item (3) of (); map() over (Country-GDP-Population Data)"
               title=
               "data-record, label:() value:(); ()/(); item (1) of (); item (2) of (); item (3) of (); map() over (Country-GDP-Population Data)">
          <br>
        </div>
      </li>

      <li>Now collect some data in your class or from the
      internet on a topic you care about that would lend itself
      to visualization with a bar graph. Use your Snap<em>!</em>
      program to visualize your data. Share your work with your
      classmates.</li>
    </ol>
  </div>

  <div class="takeItFurther">
    <ol type="A">
      <li>Sometimes it is more convenient to present your bar
      graph with horizontal bars instead of vertical ones. Modify
      your code so that it takes an input indicating which type
      of bar graph (horizontal or vertical) is to be
      generated.<br>
      <img class="indent"
           src=
           "/bjc-r/img/3-lists/BarGraph_img/HorizontalBarGraph.png"
           height="300"
           alt="Geen Afbeelding"
           ></li>

      <li>Histograms display <em>numerical</em> data grouped into
      ranges (called bins) and plotted as bars. For example, the
      histogram below shows the number of students in each age
      group at a summer camp. Learn about histograms and create a
      data visualization tool in Snap<em>!</em> for displaying
      histograms.<br>
      <img class="indent"
           src="../../afb/"
           height="250"
           alt="Geen Afbeelding"
           ></li>
    </ol>
  </div>
</body>
</html>
